[query].

check_solutions(balanced_partition([],P),
                [[P = []]]).
check_solutions(balanced_partition([a],P),
                [[P = [[a]]]]).
check_solutions(balanced_partition([a,b],P),
                [[P = [[a],[b]]],
                 [P = [[a,b]]]]).
check_solutions(balanced_partition([a,b,c,d],P),
                [[P = [[a],[b],[c],[d]]],
                 [P = [[a],[b],[c,d]]],
                 [P = [[a],[b,c],[d]]],
                 [P = [[a,b],[c],[d]]],
                 [P = [[a,b],[c,d]]],
                 [P = [[a,b,c,d]]]]).
check_solutions(balanced_partition([1,2,3,4,5],P),
                [[P = [[1],[2],[3],[4],[5]]],
                 [P = [[1],[2],[3],[4,5]]],
                 [P = [[1],[2],[3,4],[5]]],
                 [P = [[1],[2,3],[4],[5]]],
                 [P = [[1],[2,3],[4,5]]],
                 [P = [[1,2],[3],[4],[5]]],
                 [P = [[1,2],[3],[4,5]]],
                 [P = [[1,2],[3,4],[5]]],
                 [P = [[1,2],[3,4,5]]],
                 [P = [[1,2,3],[4,5]]],
                 [P = [[1,2,3,4,5]]]]).

check_solutions(balanced_partition(L,[]), [[L = []]]).
check_solutions(balanced_partition(L,[[a]]), [[L = [a]]]).
check_solutions(balanced_partition(L,[[a],[b],[c],[d,e]]), [[L = [a,b,c,d,e]]]).
check_solutions(balanced_partition(L,[[a,b],[c],[d],[e]]), [[L = [a,b,c,d,e]]]).
check_solutions(balanced_partition(L,[[a],[b,c],[d,e],[f]]), [[L = [a,b,c,d,e,f]]]).

check_solutions(balanced_partition(L, [[a],[b,c,d]]), []).

check_solutions(balanced_partition([1,2,3,4,5,6,7],P),
                [[P = [[1], [2], [3], [4], [5], [6], [7]]],
                 [P = [[1], [2], [3], [4], [5], [6, 7]]],
                 [P = [[1], [2], [3], [4], [5, 6], [7]]],
                 [P = [[1], [2], [3], [4, 5], [6], [7]]],
                 [P = [[1], [2], [3], [4, 5], [6, 7]]],
                 [P = [[1], [2], [3, 4], [5], [6], [7]]],
                 [P = [[1], [2], [3, 4], [5], [6, 7]]],
                 [P = [[1], [2], [3, 4], [5, 6], [7]]],
                 [P = [[1], [2, 3], [4], [5], [6], [7]]],
                 [P = [[1], [2, 3], [4], [5], [6, 7]]],
                 [P = [[1], [2, 3], [4], [5, 6], [7]]],
                 [P = [[1], [2, 3], [4, 5], [6], [7]]],
                 [P = [[1], [2, 3], [4, 5], [6, 7]]],
                 [P = [[1, 2], [3], [4], [5], [6], [7]]],
                 [P = [[1, 2], [3], [4], [5], [6, 7]]],
                 [P = [[1, 2], [3], [4], [5, 6], [7]]],
                 [P = [[1, 2], [3], [4, 5], [6], [7]]],
                 [P = [[1, 2], [3], [4, 5], [6, 7]]],
                 [P = [[1, 2], [3, 4], [5], [6], [7]]],
                 [P = [[1, 2], [3, 4], [5], [6, 7]]],
                 [P = [[1, 2], [3, 4], [5, 6], [7]]],
                 [P = [[1, 2], [3, 4], [5, 6, 7]]],
                 [P = [[1, 2], [3, 4, 5], [6, 7]]],
                 [P = [[1, 2, 3], [4, 5], [6, 7]]],
                 [P = [[1, 2, 3], [4, 5, 6, 7]]],
                 [P = [[1, 2, 3, 4], [5, 6, 7]]],
                 [P = [[1, 2, 3, 4, 5, 6, 7]]]]).
